# Заводим класс Solution, как того требует LeetCode.
class Solution:
    # Заводим метод, который будет находить длину самой длинной подстроки.
    # В нашем случае, непрерывной последовательности символов в заданной строке,
    # в которой все символы уникальны и не повторяются.
    # self- стандартный параметр для методов класса в Python, указывает на экземпляр класса.
    # s: str - входная строка, в которой нужно найти самую длинную подстроку без повторов.
    # -> int - возвращаемое значение, целое число, представляющее длину самой длинной подстроки
    # без повторяющихся символов.
    def lengthOfLongestSubsting(self, s: str) -> int:

        # Заводим переменные.
        max_length = 0 # Храним максимальную длину подстроки без повторов.
        start = 0       # Индекс начала текущей подстроки без повторов.
        char_index = {} # Словарь для хранения последнего индекса каждого символа.

        # Заводим цикл. Проходимся по всем символам строки.
        for i, char in enumerate(s):

            # Проверка: встречался ли текущий символ ранее
            # и находится ли он внутри текущей подстроки (индекс >= start).
            # char in char_index - проверяем, видели ли мы этот символ раньше.
            # char_index[char] >= start - проверяем, находится ли последнее вхождение
            # ВНУТРИ текущей подстроки.
            if char in char_index and char_index[char] >= start:
                # Если да, то сдвигаем начало подстроки.
                # Начинаем с символа ПОСЛЕ последнего вхождения этого символа.
                # Сдвигаем начало подстроки ПРАВЕЕ повторяющегося символа.
                # Например, если была подстрока "abc" и мы встретили "a", начинаем с "bca".
                start = char_index[char] + 1

            # Обновляем последнюю позицию текущего символа.
            char_index[char] = i

            # Вычисляем длину текущей подстроки.
            # i - текущая позиция (конец подстроки).
            # start - начало подстроки.
            # +1 - потому что индексы начинаются с 0.
            current_length = i - start + 1

            # Обновляем максимальную длину, если текущая длинее.
            max_length = max(max_length, current_length)

        # Возвращаем результат.
        return max_length

# Создаём экземпляр класса.
solution = Solution()

print()
# Пример 1: "abcabcbb"
test1 = "abcabcbb"
result1 = solution.lengthOfLongestSubsting(test1)
print(f"Пример 1 (смешанные символы):")
print(f"Входная строка: '{test1}'")
print(f"Ожидаемый результат: 3 (abc, abc и cab)")
print(f"Полученный результат: {result1}")
print(f"Правильно: {'Да' if result1 == 3 else 'Нет'}")
print()

# Пример 2: "bbbbb"
test2 = "bbbbb"
result2 = solution.lengthOfLongestSubsting(test2)
print(f"Пример 2 (все символы одинаковые):")
print(f"Входная строка: '{test2}'")
print(f"Ожидаемый результат: 1 (потому что везде b и они все считаются за 1)")
print(f"Полученный результат: {result2}")
print(f"Правильно: {'Да' if result2 == 1 else 'Нет'}")
print()

# Пример 3: "pwwkew"
test3 = "pwwkew"
result3 = solution.lengthOfLongestSubsting(test3)
print(f"Пример 3 (смешанные символы):")
print(f"Входная строка: '{test3}'")
print(f"Ожидаемый результат: 3 (потому что есть подстроки wke и kew длиной по 3 символа без повторяющихся символов)")
print(f"Полученный результат: {result3}")
print(f"Правильно: {'Да' if result3 == 3 else 'Нет'}")
print()

# Дополнительные примеры
test4 = ""
result4 = solution.lengthOfLongestSubsting(test4)
print(f"Пример 4 (пустая строка):")
print(f"Входная строка: '{test4}'")
print(f"Ожидаемый результат: 0")
print(f"Полученный результат: {result4}")
print(f"Правильно: {'Да' if result4 == 0 else 'Нет'}")
print()

test5 = "abcdef"
result5 = solution.lengthOfLongestSubsting(test5)
print(f"Пример 5 (все символы уникальны):")
print(f"Входная строка: '{test5}'")
print(f"Ожидаемый результат: {len(test5)} (6 уникальных символов в строке, без повторов)")
print(f"Полученный результат: {result5}")
print(f"Правильно: {'Да' if result5 == len(test5) else 'Нет'}")
print()

test6 = "aab"
result6 = solution.lengthOfLongestSubsting(test6)
print(f"Пример 6 (смешанные символы):")
print(f"Входная строка: '{test6}'")
print(f"Ожидаемый результат: 2 (здесь ab и ba, две пары)")
print(f"Полученный результат: {result6}")
print(f"Правильно: {'Да' if result6 == 2 else 'Нет'}")
