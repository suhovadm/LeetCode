# Импортируем тип List из модуля typing.
# List[int] означает "список целых чисел".
# Это аннотация типа для лучшего понимания кода и проверки типов.
from typing import List

# Заводим класс Solution.
class Solution:

    # Заводим метод singleNumber, который принимает следующие параметры:
    # self - ссылка на объект (обязательный первый параметр для методов класса).
    # nums: List[int] - параметр типа "список целых чисел".
    # -> int - указывает, что метод возвращает целое число.
    def singleNumber(self, nums: List[int]) -> int:

        # Переменная-счётчик.
        # Начинаем с нуля, т.к. 0 ^ x = x (XOR с 0 даёт само число)
        result = 0

        # Выводим начальное значение в консоль.
        print(f"Начинаем с result = {result}")

        # Заводим цикл for. enumerate(nums) возвращает пары (индекс, значение)
        # для каждого элемента списка:
        # i - индекс элемента (начинается с 0)
        # num - значение элемента списка.
        for i, num in enumerate(nums):

            # Сохраняем текущее значение result перед изменением.
            # Нужно для вывода информации о том, что произошло.
            old_result = result

            # Выполняем операцию XOR (исключающее ИЛИ) с присваиванием
            # result ^= num эквивалентно result = result ^ num
            # XOR имеет свойства:
            # - a ^ 0 = a
            # - a ^ a = 0
            # - a ^ b ^ a = b
            result ^= num

            # Выводим информацию о текущем шаге в консоль.
            # i+1 - показываем номер шага, начиная с 1.
            # {old_result}, {num}, {result} - подставляем значения переменных.
            print(f"Шаг {i + 1}: result = {old_result} ^ {num} = {result}")

        # Выводим финальный результат в консоль. Возвращаем результат из метода.
        print(f"Финальный результат: {result}")
        return result

# Точка входа в программу.
if __name__ == "__main__":

    # Создаём экземпляр класса, запускаем скрипт.
    solution = Solution()

    print("=" * 50)
    print("Пример 1: nums = [2, 2, 1]")
    print("=" * 50)
    result1 = solution.singleNumber([2, 2, 1])
    print(f"Ожидаемый результат: 1")
    print(f"Полученный результат: {result1}")

    print("\n" + "=" * 50)
    print("Пример 2: nums = [4, 1, 2, 1, 2]")
    print("=" * 50)
    result2 = solution.singleNumber([4, 1, 2, 1, 2])
    print(f"Ожидаемый результат: 4")
    print(f"Полученный результат: {result2}")

    print("\n" + "=" * 50)
    print("Пример 3: nums = [1]")
    print("=" * 50)
    result3 = solution.singleNumber([1])
    print(f"Ожидаемый результат: 1")
    print(f"Полученный результат: {result3}")

    print("\n" + "=" * 50)
    print("Дополнительный пример: nums = [7, 3, 5, 3, 7]")
    print("=" * 50)
    result4 = solution.singleNumber([7, 3, 5, 3, 7])
    print(f"Ожидаемый результат: 5")
    print(f"Полученный результат: {result4}")
