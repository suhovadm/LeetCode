# Примеры. В данном случае, это просто принты для наглядного вывода задачи.

# ---------------------------------------------------------------------------------- #

# Мини-пример, пошагово:
# s = "abefcd"
# p = "ab*cd"
# 1. a == a
# 2. b == b
# 3. * - запоминаем позицию.
# 4. e не равно c - * расширяется
# 5. f не равно с - * расширяется
# 6. c == c
# 7. d == d
# Ответ: True

# Полный пошаговый пример:
#   i	j	s[i]	p[j]	действие
#   0	0	a	a	совпало
#   1	1	b	b	совпало
#   2	2	e	*	запомнили *
#   2	3	e	c	не совпало
#   3	3	f	c	* расширяется
#   4	3	c	c	совпало
#   5	4	d	d	совпало

# ----------------------------------------------------------------------------- #

# Разбор хардкор-кейса:
# s = "aaabxczzc"
# p = "*a*b?c*"

# Шаг 1:
# * в начале говорит: "перед буквой а может быть что угодно или ничего".
# Мы пробуем ничего не брать и идём дальше.

# Шаг 2: ищем а
# aaabxczzc
# ^
# Первая буква - a, отлично, совпало.

# Шаг 3: второй *
# Теперь шаблон говорит: "между a и b может быть что угодно"
# Опять пробуем минимум - пусть * ничего не берёт.

# Шаг 4: ищем b
# Но следующая буква строки - снова a, а нам нужна b.
# Что мы делаем?
# Говорим второй *: "ладно, съешь эту a".
# Пробуем снова - всё ещё не b.
# * съедает ещё одну а.
# Пробуем снова - теперь b.

# Шаг 5: ?
# Следующий символ шаблона - ?
# Т.е. говорим: "возьми ровно один любой символ".
# В строке это x.

# Шаг 6: с
# Слеудющий символ должен быть c.
# В строке он и есть - совпало.

# Шаг 7: последний *
# Шаблон говорит: "после c может быть что угодно".
# В строке осталось: zzc
# * спокойно это всё забирает.

# Строка закончилась, шаблон закончился, никаких противоречий.
# Совпадение есть - True.

# ----------------------------------------------------------------------------- #

print("-" * 60)
print('Пример 1: s = "abefcd", p = "ab*cd"')
print()

print("Шаг 1: s[0] = 'a', p[0] = 'a' -> совпало")
print("Шаг 2: s[1] = 'b', p[1] = 'b' -> совпало")
print("Шаг 3: p[2] = '*' -> запоминаем позицию *")
print("Шаг 4: s[2] = 'e', p[3] = 'c' -> не совпало, * расширяется")
print("Шаг 5: s[3] = 'f', p[3] = 'c' -> не совпало, * расширяется")
print("Шаг 6: s[4] = 'c', p[3] = 'c' -> совпало")
print("Шаг 7: s[5] = 'd', p[4] = 'd' -> совпало")

print()
print("Результат: True")
print("-" * 60)

# ----------------------------------------------------------------------------- #

print('Пример 2: s = "aaabxczzc", p = "*a*b?c*"')
print()

print("Шаг 1: p[0] = '*'")
print("* в начале -> пробуем взять 0 символов")

print("Шаг 2: s[0] = 'a', p[1] = 'a' -> совпало")

print("Шаг 3: p[2] = '*'")
print("второй * -> пробуем взять 0 символов")

print("Шаг 4: s[1] = 'a', p[3] = 'b' -> не совпало")
print("* расширяется (берёт 'a')")

print("Шаг 5: s[2] = 'a', p[3] = 'b' -> не совпало")
print("* расширяется (берёт ещё 'a')")

print("Шаг 6: s[3] = 'b', p[3] = 'b' -> совпало")

print("Шаг 7: p[4] = '?'")
print("? берёт один символ -> s[4] = 'x'")

print("Шаг 8: s[5] = 'c', p[5] = 'c' -> совпало")

print("Шаг 9: p[6] = '*'")
print("последний * -> забирает остаток строки: 'zzc'")

print()
print("Строка закончилась")
print("Шаблон закончился")
print()
print("Результат: True")